<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Resistor Quiz</title>
  <style>
    body { font-family: Arial; background: #667eea; margin: 0; padding: 20px; }
    .container { max-width: 1000px; margin: auto; background: white; padding: 40px; border-radius: 15px; }
    h1 { color: #667eea; text-align: center; }
    .header { display: flex; justify-content: space-between; margin: 20px 0; font-size: 18px; }
    .progress { height: 10px; background: #ddd; margin: 20px 0; border-radius: 10px; overflow: hidden; }
    .progress-bar { height: 100%; background: #667eea; }
    .question { font-size: 16px; margin: 20px 0; line-height: 1.6; }
    svg { max-width: 500px; width: 100%; border: 1px solid #ddd; margin: 20px 0; }
    .options { margin: 20px 0; }
    .option { padding: 15px; margin: 10px 0; border: 2px solid #ddd; border-radius: 8px; cursor: pointer; background: white; color: black; font-size: 16px; }
    .option:hover { background: #f0f4ff; border-color: #667eea; }
    .option.selected-correct { background: #d5f4e6; border-color: #27ae60; color: #000; }
    .option.selected-incorrect { background: #ffeaea; border-color: #e74c3c; color: #000; }
    .option.show-correct { background: #d5f4e6; border-color: #27ae60; }
    .option:disabled { cursor: not-allowed; }
    .feedback { padding: 15px; margin: 15px 0; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px; color: #333; display: none; }
    .hints-btn { padding: 10px 20px; background: #ffc107; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; margin: 15px 0; font-size: 16px; }
    .hints-box { background: #fffacd; border: 2px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 8px; display: none; }
    .hint { padding: 8px 0; color: #333; }
    .explanation { background: #f0e6ff; border: 2px solid #667eea; padding: 20px; margin: 15px 0; border-radius: 8px; display: none; white-space: pre-wrap; font-family: monospace; font-size: 14px; color: #333; }
    .buttons { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 30px 0; }
    .btn { padding: 12px; font-size: 16px; font-weight: bold; border: none; border-radius: 6px; cursor: pointer; color: white; }
    .prev { background: #888; } .prev:disabled { background: #ccc; cursor: not-allowed; }
    .reset { background: #e74c3c; }
    .next { background: #667eea; } .next:disabled { background: #ccc; cursor: not-allowed; }
    .complete { display: none; text-align: center; padding: 40px; }
    .complete h2 { color: #27ae60; font-size: 2.5em; }
    .complete .score { font-size: 2em; color: #667eea; font-weight: bold; margin: 20px 0; }
  </style>
</head>
<body>
<div class="container">
  <div id="complete" class="complete">
    <h2>üéâ Quiz Complete!</h2>
    <div class="score" id="finalScore"></div>
    <p>Excellent work!</p>
    <button class="btn reset" onclick="location.reload()">Try Again</button>
  </div>
  
  <div id="quiz">
    <h1>Combining Series and Parallel Resistors</h1>
    <div class="header">
      <div>Problem <span id="pnum">1</span> of 3</div>
      <div>Score: <span id="sc">0</span>/3</div>
    </div>
    <div class="progress"><div class="progress-bar" id="pb" style="width: 0%"></div></div>
    
    <div class="question" id="q"></div>
    <div id="sch"></div>
    <div class="feedback" id="fb"></div>
    <button class="hints-btn" id="hbtn" onclick="toggleHints()">Show Hints</button>
    <div class="hints-box" id="hbox"></div>
    <div class="options" id="opts"></div>
    <div class="explanation" id="exp"></div>
    
    <div class="buttons">
      <button class="btn prev" id="pb1" onclick="prev()">Previous</button>
      <button class="btn reset" onclick="location.reload()">Reset</button>
      <button class="btn next" id="nb1" onclick="next()">Next</button>
    </div>
  </div>
</div>

<script>
const problems = [
  {
    r1: 15, r2: 8, r3: 12,
    q: "Three resistors are connected in a combination of series and parallel. Resistor R‚ÇÅ is in series with the combination of resistors R‚ÇÇ and R‚ÇÉ in parallel. The resistors have resistance R‚ÇÅ = 15 Œ©, R‚ÇÇ = 8 Œ©, and R‚ÇÉ = 12 Œ©. Determine the equivalent resistance of the combination of resistors.",
    opts: ["A. 19.76 Œ©", "B. 35 Œ©", "C. 4.8 Œ©", "D. 15 Œ©"],
    correct: 0,
    exp: "Step 1: Find equivalent resistance of R‚ÇÇ and R‚ÇÉ in parallel.\n1/R_parallel = 1/8 + 1/12 = 3/24 + 2/24 = 5/24\nR_parallel = 4.8 Œ©\n\nStep 2: Add R‚ÇÅ in series.\nR_total = 15 + 4.8 = 19.8 ‚âà 19.76 Œ©",
    hints: ["R‚ÇÇ and R‚ÇÉ are in parallel", "For parallel: 1/R_parallel = 1/R‚ÇÇ + 1/R‚ÇÉ", "1/R_parallel = 1/8 + 1/12", "Common denominator: 3/24 + 2/24 = 5/24", "R_total = 15 + 4.8 = 19.76 Œ©"]
  },
  {
    r1: 15, r2: 13, r3: 9,
    q: "Three resistors are connected in a combination of series and parallel. Resistor R‚ÇÅ is in series with the combination of resistors R‚ÇÇ and R‚ÇÉ in parallel. The resistors have resistance R‚ÇÅ = 15 Œ©, R‚ÇÇ = 13 Œ©, and R‚ÇÉ = 9 Œ©. Determine the equivalent resistance of the combination of resistors.",
    opts: ["A. 9.70 Œ©", "B. 20.3 Œ©", "C. 15.2 Œ©", "D. 20.6 Œ©"],
    correct: 1,
    exp: "Step 1: Find equivalent resistance of R‚ÇÇ and R‚ÇÉ in parallel.\n1/R_parallel = 1/13 + 1/9 = 9/117 + 13/117 = 22/117\nR_parallel = 5.32 Œ©\n\nStep 2: Add R‚ÇÅ in series.\nR_total = 15 + 5.32 = 20.32 ‚âà 20.3 Œ©",
    hints: ["R‚ÇÇ and R‚ÇÉ are in parallel", "For parallel: 1/R_parallel = 1/R‚ÇÇ + 1/R‚ÇÉ", "Calculate: 1/R_parallel = 1/13 + 1/9", "Find common denominator", "R_total = 20.3 Œ©"]
  },
  {
    r1: 8, r2: 15, r3: 6,
    q: "Three resistors are connected in a combination of series and parallel. Resistor R‚ÇÅ is in series with the combination of resistors R‚ÇÇ and R‚ÇÉ in parallel. The resistors have resistance R‚ÇÅ = 8 Œ©, R‚ÇÇ = 15 Œ©, and R‚ÇÉ = 6 Œ©. Determine the equivalent resistance of the combination of resistors.",
    opts: ["A. 12.3 Œ©", "B. 29 Œ©", "C. 4.3 Œ©", "D. 8.6 Œ©"],
    correct: 0,
    exp: "Step 1: Find equivalent resistance of R‚ÇÇ and R‚ÇÉ in parallel.\n1/R_parallel = 1/15 + 1/6 = 2/30 + 5/30 = 7/30\nR_parallel = 4.29 Œ©\n\nStep 2: Add R‚ÇÅ in series.\nR_total = 8 + 4.29 = 12.29 ‚âà 12.3 Œ©",
    hints: ["R‚ÇÇ and R‚ÇÉ are in parallel", "For parallel: 1/R_parallel = 1/R‚ÇÇ + 1/R‚ÇÉ", "Calculate: 1/R_parallel = 1/15 + 1/6", "Common denominator 30", "R_total = 12.3 Œ©"]
  }
];

let cur = 0, ans = {}, sc = 0, sh = false;

function svg(r1, r2, r3) {
  return `<svg viewBox="0 0 350 380"><rect x="40" y="40" width="270" height="300" fill="none" stroke="black" stroke-width="2" stroke-dasharray="8,4"/><circle cx="90" cy="80" r="4" fill="black"/><circle cx="260" cy="80" r="4" fill="black"/><line x1="175" y1="80" x2="175" y2="100" stroke="black" stroke-width="2"/><polyline points="170,100 180,107 170,115 180,122 170,130 180,137" fill="none" stroke="black" stroke-width="2"/><line x1="175" y1="137" x2="175" y2="160" stroke="black" stroke-width="2"/><text x="185" y="120" font-size="12" font-weight="bold">R‚ÇÅ=${r1}Œ©</text><line x1="90" y1="80" x2="260" y2="80" stroke="black" stroke-width="2"/><circle cx="175" cy="160" r="4" fill="black"/><text x="70" y="195" font-size="12" font-weight="bold">R‚ÇÇ=${r2}Œ©</text><line x1="130" y1="160" x2="130" y2="180" stroke="black" stroke-width="2"/><polyline points="125,180 135,187 125,195 135,202 125,210 135,217" fill="none" stroke="black" stroke-width="2"/><line x1="130" y1="217" x2="130" y2="260" stroke="black" stroke-width="2"/><text x="230" y="195" font-size="12" font-weight="bold">R‚ÇÉ=${r3}Œ©</text><line x1="220" y1="160" x2="220" y2="180" stroke="black" stroke-width="2"/><polyline points="215,180 225,187 215,195 225,202 215,210 225,217" fill="none" stroke="black" stroke-width="2"/><line x1="220" y1="217" x2="220" y2="260" stroke="black" stroke-width="2"/><line x1="175" y1="160" x2="130" y2="160" stroke="black" stroke-width="2"/><line x1="175" y1="160" x2="220" y2="160" stroke="black" stroke-width="2"/><circle cx="130" cy="260" r="4" fill="black"/><circle cx="220" cy="260" r="4" fill="black"/><line x1="130" y1="260" x2="220" y2="260" stroke="black" stroke-width="2"/><circle cx="175" cy="260" r="4" fill="black"/></svg>`;
}

function draw() {
  const p = problems[cur];
  document.getElementById('pnum').textContent = cur + 1;
  document.getElementById('sc').textContent = sc;
  document.getElementById('q').textContent = p.q;
  document.getElementById('sch').innerHTML = svg(p.r1, p.r2, p.r3);
  document.getElementById('pb').style.width = ((cur + 1) / 3 * 100) + '%';
  document.getElementById('pb1').disabled = cur === 0;
  document.getElementById('nb1').disabled = cur === 2;
  
  let html = '';
  const a = ans[cur];
  for (let i = 0; i < p.opts.length; i++) {
    let cls = 'option';
    if (a) {
      if (a.i === i) cls += a.ok ? ' selected-correct' : ' selected-incorrect';
      else if (i === p.correct) cls += ' show-correct';
    }
    html += `<div class="${cls}" onclick="answer(${i})" ${a ? 'style="pointer-events:none"' : ''}>${p.opts[i]}</div>`;
  }
  document.getElementById('opts').innerHTML = html;
  
  if (a && !a.ok) {
    document.getElementById('fb').style.display = 'block';
    document.getElementById('fb').textContent = 'Not quite right. Review the explanation!';
  } else {
    document.getElementById('fb').style.display = 'none';
  }
  
  let hints = '';
  for (let h of p.hints) hints += `<div class="hint">‚Ä¢ ${h}</div>`;
  document.getElementById('hbox').innerHTML = hints;
  document.getElementById('hbox').style.display = sh ? 'block' : 'none';
  document.getElementById('hbtn').textContent = sh ? 'Hide Hints' : 'Show Hints';
  
  if (a) {
    document.getElementById('exp').textContent = p.exp;
    document.getElementById('exp').style.display = 'block';
  } else {
    document.getElementById('exp').style.display = 'none';
  }
}

function answer(i) {
  const p = problems[cur];
  if (!ans[cur]) {
    ans[cur] = {i: i, ok: i === p.correct};
    if (ans[cur].ok) sc++;
    if (sc === 3) setTimeout(() => {
      document.getElementById('quiz').style.display = 'none';
      document.getElementById('complete').style.display = 'block';
      document.getElementById('finalScore').textContent = '3/3';
    }, 1000);
  }
  draw();
}

function toggleHints() { sh = !sh; draw(); }
function next() { if (cur < 2) { cur++; sh = false; draw(); } }
function prev() { if (cur > 0) { cur--; sh = false; draw(); } }

draw();
</script>
</body>
</html>
